<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A2 Grammar Booklet</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px}.container{max-width:1200px;margin:0 auto;background:white;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,0.3);overflow:hidden}.header{background:linear-gradient(135deg,#FF8C42 0%,#FF6B35 100%);color:white;padding:40px;text-align:center}.header h1{font-size:2.5em;margin-bottom:10px}.header p{font-size:1.1em;margin:5px 0}.header .designer{font-size:0.9em;margin-top:10px;font-style:italic;opacity:0.9}.game-stats{background:#2C5F7C;color:white;padding:20px;display:flex;justify-content:space-around;flex-wrap:wrap;gap:20px}.stat-box{background:rgba(255,255,255,0.1);padding:15px;border-radius:10px;text-align:center}.stat-box h3{font-size:0.9em;margin-bottom:5px}.stat-box p{font-size:1.8em;font-weight:bold}.badges-container{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;max-width:400px}.badge{font-size:2.5em;filter:grayscale(100%);opacity:0.3;transition:all 0.3s;position:relative}.badge.unlocked{filter:grayscale(0%);opacity:1;animation:badgePop 0.5s ease}@keyframes badgePop{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}.badge-tooltip{position:absolute;bottom:-25px;left:50%;transform:translateX(-50%);background:#333;color:white;padding:3px 8px;border-radius:5px;font-size:10px;white-space:nowrap;opacity:0;pointer-events:none}.badge:hover .badge-tooltip{opacity:1}.nav-tabs{display:flex;background:#2C5F7C;padding:10px;gap:10px;flex-wrap:wrap}.nav-tab{background:rgba(255,255,255,0.1);color:white;border:none;padding:10px 15px;border-radius:8px;cursor:pointer;flex:1;min-width:110px;font-size:12px}.nav-tab:hover{background:rgba(255,255,255,0.2)}.nav-tab.active{background:#FF8C42}.nav-tab.locked{opacity:0.5;cursor:not-allowed}.content{padding:40px}.lesson{display:none}.lesson.active{display:block}.lesson-title{color:#2C5F7C;font-size:2em;margin-bottom:20px;border-bottom:3px solid #FF8C42;padding-bottom:10px}.grammar-box{background:#f8f9fa;border-left:5px solid #FF8C42;padding:20px;margin:20px 0;border-radius:8px}.grammar-box h3{color:#2C5F7C;margin-bottom:15px}.example-box{background:#e3f2fd;border-left:5px solid #2196F3;padding:15px;margin:15px 0;border-radius:5px}.highlight{background:#fff3cd;padding:2px 5px;border-radius:3px;font-weight:bold}.exercise-section{background:white;border:2px solid #FF8C42;border-radius:10px;padding:25px;margin:30px 0}.exercise-title{color:#FF8C42;font-size:1.5em;margin-bottom:20px}.question{margin:20px 0;padding:15px;background:#f8f9fa;border-radius:8px}.question-text{font-weight:bold;margin-bottom:10px}input[type="text"]{padding:10px;border:2px solid #ddd;border-radius:5px;font-size:16px;min-width:200px}input.correct{border-color:#4CAF50;background:#e8f5e9}input.incorrect{border-color:#f44336;background:#ffebee}.radio-option{display:block;margin:10px 0;padding:10px;cursor:pointer;border-radius:5px;border:2px solid transparent}.radio-option:hover{background:#f0f0f0}.radio-option.correct{background:#e8f5e9;border-color:#4CAF50}.radio-option.incorrect{background:#ffebee;border-color:#f44336}.btn{background:#FF8C42;color:white;border:none;padding:12px 30px;border-radius:25px;font-size:16px;cursor:pointer;margin:5px}.btn:hover{background:#FF6B35}.btn-check{background:#2C5F7C}.feedback{margin-top:15px;padding:15px;border-radius:8px;font-weight:bold;display:none}.feedback.show{display:block}.feedback.correct{background:#e8f5e9;color:#2e7d32;border-left:5px solid #4CAF50}.feedback.incorrect{background:#ffebee;color:#c62828;border-left:5px solid #f44336}.points-earned{background:#FFD700;color:#333;padding:5px 15px;border-radius:20px;margin-left:10px}.mcq-review{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:30px;border-radius:15px;margin:30px 0}.mcq-review h3{font-size:2em;margin-bottom:20px;text-align:center}.mcq-question{background:white;color:#333;padding:20px;border-radius:10px;margin:20px 0}.certificate-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:1000;justify-content:center;align-items:center}.certificate-modal.show{display:flex}.certificate{background:white;padding:40px;border-radius:20px;max-width:800px;width:90%;text-align:center;border:10px solid #FFD700;position:relative}.certificate h2{color:#FF8C42;font-size:2.5em;margin-bottom:20px}.certificate .trophy{font-size:5em;margin:20px 0}.certificate .student-name{font-size:1.5em;color:#2C5F7C;margin:20px 0;font-weight:bold}.certificate .score{font-size:2em;color:#4CAF50;margin:20px 0}.certificate .date{color:#666;margin:20px 0}.certificate .signature{margin-top:30px;border-top:2px solid #333;padding-top:10px;display:inline-block}.cert-buttons{margin-top:20px}.cert-buttons button{margin:10px}@media (max-width:768px){.header h1{font-size:1.5em}.content{padding:20px}.nav-tab{font-size:11px;padding:8px 10px;min-width:90px}.certificate{padding:20px}.certificate h2{font-size:1.8em}}
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1>ğŸ“š A2 Grammar Booklet</h1>
<p>Higher Colleges of Technology</p>
<p class="designer">Designed by: Nazila Motahari</p>
<p>Gamified Learning Edition</p>
</div>
<div class="game-stats">
<div class="stat-box"><h3>Total Points</h3><p id="total-points">0</p></div>
<div class="stat-box"><h3>Level</h3><p id="current-level">1</p></div>
<div class="stat-box"><h3>Badges Earned</h3><div class="badges-container" id="badges-container"></div></div>
</div>
<div class="nav-tabs">
<button class="nav-tab active" onclick="showLesson('verb-to-be')" id="tab-verb-to-be">Verb to be</button>
<button class="nav-tab locked" onclick="showLesson('there-is-are')" id="tab-there-is-are">There is/are ğŸ”’</button>
<button class="nav-tab locked" onclick="showLesson('prepositions')" id="tab-prepositions">Prepositions ğŸ”’</button>
<button class="nav-tab locked" onclick="showLesson('present-simple')" id="tab-present-simple">Present Simple ğŸ”’</button>
<button class="nav-tab locked" onclick="showLesson('present-continuous')" id="tab-present-continuous">Present Continuous ğŸ”’</button>
<button class="nav-tab locked" onclick="showLesson('past-simple')" id="tab-past-simple">Past Simple ğŸ”’</button>
<button class="nav-tab locked" onclick="showLesson('pronouns')" id="tab-pronouns">Pronouns ğŸ”’</button>
<button class="nav-tab locked" onclick="showLesson('comparatives')" id="tab-comparatives">Comparatives ğŸ”’</button>
<button class="nav-tab locked" onclick="showLesson('superlatives')" id="tab-superlatives">Superlatives ğŸ”’</button>
<button class="nav-tab locked" onclick="showLesson('if-clause')" id="tab-if-clause">If Clause ğŸ”’</button>
</div>
<div class="content" id="lessons-container"></div>
</div>
<div class="certificate-modal" id="certificate-modal">
<div class="certificate" id="certificate">
<h2>ğŸ“ Certificate of Completion ğŸ“</h2>
<div class="trophy">ğŸ†</div>
<p style="font-size:1.2em">This certifies that</p>
<div class="student-name" id="cert-name">Grammar Champion</div>
<p style="font-size:1.1em">has successfully completed</p>
<p style="font-size:1.3em;font-weight:bold;color:#2C5F7C">A2 Grammar Booklet</p>
<p style="font-size:1em;margin-top:10px">All 10 Lessons Completed!</p>
<div class="score" id="cert-score">Final Score: 0 points</div>
<p style="font-size:1.1em;color:#FF8C42;font-weight:bold">ğŸŒŸ Outstanding Achievement! ğŸŒŸ</p>
<div class="date" id="cert-date"></div>
<div class="signature">
<p style="font-weight:bold">Nazila Motahari</p>
<p style="font-size:0.9em">Instructor, Higher Colleges of Technology</p>
</div>
<div class="cert-buttons">
<button class="btn" onclick="downloadCertificate()">ğŸ“¥ Download Certificate</button>
<button class="btn" onclick="closeCertificate()">Close</button>
</div>
</div>
</div>
<script>
const badgeEmojis=['âš½','ğŸ€','ğŸ','ğŸ¾','ğŸˆ','â›³','ğŸŠ','ğŸš´','ğŸ‹ï¸','ğŸ¯'];
const badgeNames=['Soccer Star','Basketball Pro','Volleyball Champ','Tennis Ace','Football Hero','Golf Master','Swimming Legend','Cycling Pro','Weightlifting Beast','Archery Expert'];
const lessons=[
{id:'verb-to-be',title:'Verb to be',grammar:[{h:'âœ¨ Positive Form',p:'<strong>I</strong> â†’ am | <strong>He/She/It</strong> â†’ is | <strong>We/You/They</strong> â†’ are',ex:'â€¢ I <span class="highlight">am</span> hungry.<br>â€¢ She <span class="highlight">is</span> a teacher.'},{h:'âŒ Negative Form',p:'Add <strong>not</strong> after verb',ex:'â€¢ I <span class="highlight">am not</span> tired.<br>â€¢ She <span class="highlight">isn\'t</span> here.'}],exercises:['1. I _____ a student.','2. She _____ tired.','3. They _____ at home. (negative)','4. _____ you ready?','5. He _____ my brother. (negative)'],answers:['am','is','aren\'t','are','isn\'t'],mcq:[{q:'They _____ happy.',opts:['is','am','are'],ans:'c'},{q:'She _____ tired. (negative)',opts:['isn\'t','aren\'t','am not'],ans:'a'},{q:'_____ you a student?',opts:['Is','Are','Am'],ans:'b'},{q:'I _____ from Dubai.',opts:['am','is','are'],ans:'a'},{q:'The book _____ on the table.',opts:['am','is','are'],ans:'b'}]},
{id:'there-is-are',title:'There is / There are',grammar:[{h:'ğŸ“Œ Positive Form',p:'<strong>There is</strong> â†’ singular | <strong>There are</strong> â†’ plural',ex:'â€¢ <span class="highlight">There is</span> a book.<br>â€¢ <span class="highlight">There are</span> three students.'},{h:'âŒ Negative Form',p:'<strong>There isn\'t</strong> any... | <strong>There aren\'t</strong> any...',ex:'â€¢ <span class="highlight">There isn\'t</span> a pen.<br>â€¢ <span class="highlight">There aren\'t</span> any apples.'}],exercises:['1. _____ a cat under the table.','2. _____ five books on the shelf.','3. _____ any milk. (negative)','4. _____ a park nearby? (question)','5. _____ any students. (negative)'],answers:['thereis','thereare','thereisn\'t','isthere','therearen\'t'],mcq:[{q:'_____ a dog in the garden.',opts:['There is','There are'],ans:'a'},{q:'_____ three apples.',opts:['There is','There are'],ans:'b'},{q:'_____ any water. (negative)',opts:['There isn\'t','There aren\'t'],ans:'a'},{q:'_____ a bank nearby? (question)',opts:['Is there','Are there'],ans:'a'},{q:'_____ many people here.',opts:['There is','There are'],ans:'b'}]},
{id:'prepositions',title:'Prepositions',grammar:[{h:'ğŸ“ Prepositions of Place',p:'<strong>in</strong> = inside | <strong>on</strong> = on top | <strong>at</strong> = location',ex:'â€¢ The book is <span class="highlight">in</span> the bag.<br>â€¢ The cup is <span class="highlight">on</span> the table.'},{h:'â° Prepositions of Time',p:'<strong>in</strong> = months/years | <strong>on</strong> = days/dates | <strong>at</strong> = times',ex:'â€¢ <span class="highlight">In</span> January<br>â€¢ <span class="highlight">On</span> Monday<br>â€¢ <span class="highlight">At</span> 3 o\'clock'}],exercises:['1. The book is _____ the table.','2. I was born _____ December.','3. The cat is _____ the chair.','4. The class starts _____ 8 o\'clock.','5. My birthday is _____ Friday.'],answers:['on','in','under','at','on'],mcq:[{q:'The pen is _____ the desk.',opts:['in','on','at'],ans:'b'},{q:'I live _____ Dubai.',opts:['in','on','at'],ans:'a'},{q:'My exam is _____ Monday.',opts:['in','on','at'],ans:'b'},{q:'The meeting is _____ 9:00 AM.',opts:['in','on','at'],ans:'c'},{q:'The cat is _____ the bed.',opts:['under','on','at'],ans:'a'}]},
{id:'present-simple',title:'Present Simple',grammar:[{h:'âœ¨ Positive Form',p:'<strong>I/You/We/They</strong> â†’ verb | <strong>He/She/It</strong> â†’ verb + s',ex:'â€¢ I <span class="highlight">work</span>.<br>â€¢ She <span class="highlight">works</span>.'},{h:'âŒ Negative Form',p:'<strong>don\'t/doesn\'t</strong> + verb',ex:'â€¢ I <span class="highlight">don\'t work</span>.<br>â€¢ She <span class="highlight">doesn\'t like</span> coffee.'}],exercises:['1. She _____ (work) in a bank.','2. They _____ (not/like) fish.','3. _____ you _____ (speak) English?','4. He _____ (not/play) football.','5. We _____ (study) every day.'],answers:['works','don\'tlike','doyouspeak','doesn\'tplay','study'],mcq:[{q:'She _____ to school every day.',opts:['go','goes','going'],ans:'b'},{q:'They _____ football.',opts:['plays','play','playing'],ans:'b'},{q:'He _____ like coffee.',opts:['don\'t','doesn\'t','isn\'t'],ans:'b'},{q:'_____ you speak Arabic?',opts:['Do','Does','Are'],ans:'a'},{q:'My brother _____ in Dubai.',opts:['live','lives','living'],ans:'b'}]},
{id:'present-continuous',title:'Present Continuous',grammar:[{h:'âœ¨ Positive Form',p:'<strong>Subject + am/is/are + verb-ing</strong>',ex:'â€¢ I <span class="highlight">am studying</span>.<br>â€¢ She <span class="highlight">is working</span>.'},{h:'âŒ Negative Form',p:'<strong>Subject + am/is/are + not + verb-ing</strong>',ex:'â€¢ I <span class="highlight">am not eating</span>.<br>â€¢ She <span class="highlight">isn\'t listening</span>.'}],exercises:['1. I _____ (watch) TV right now.','2. She _____ (not/listen) to music.','3. _____ they _____ (play) outside?','4. We _____ (study) for the exam.','5. He _____ (not/sleep) now.'],answers:['amwatching','isn\'tlistening','aretheyplaying','arestudying','isn\'tsleeping'],mcq:[{q:'She _____ TV now.',opts:['watch','is watching','watches'],ans:'b'},{q:'They _____ to music right now.',opts:['listen','are listening','listens'],ans:'b'},{q:'I _____ dinner at the moment.',opts:['cook','am cooking','cooks'],ans:'b'},{q:'_____ you _____ a book?',opts:['Do / read','Are / reading','Is / reading'],ans:'b'},{q:'He _____ not working today.',opts:['is','are','does'],ans:'a'}]},
{id:'past-simple',title:'Past Simple',grammar:[{h:'âœ¨ Positive Form',p:'<strong>Subject + verb-ed</strong> or <strong>irregular verb</strong>',ex:'â€¢ I <span class="highlight">worked</span>.<br>â€¢ She <span class="highlight">went</span> to Dubai.'},{h:'âŒ Negative Form',p:'<strong>didn\'t + verb</strong>',ex:'â€¢ I <span class="highlight">didn\'t work</span>.<br>â€¢ She <span class="highlight">didn\'t go</span>.'}],exercises:['1. I _____ (visit) my friend yesterday.','2. She _____ (not/go) to school last week.','3. _____ you _____ (watch) the movie?','4. They _____ (play) football yesterday.','5. He _____ (not/eat) breakfast.'],answers:['visited','didn\'tgo','didyouwatch','played','didn\'teat'],mcq:[{q:'I _____ to Dubai last year.',opts:['go','went','going'],ans:'b'},{q:'She _____ her homework yesterday.',opts:['finish','finished','finishes'],ans:'b'},{q:'They _____ not come to the party.',opts:['do','did','does'],ans:'b'},{q:'_____ you _____ the film?',opts:['Do / like','Did / like','Are / like'],ans:'b'},{q:'We _____ football last weekend.',opts:['play','played','playing'],ans:'b'}]},
{id:'pronouns',title:'Pronouns',grammar:[{h:'ğŸ‘¤ Subject Pronouns',p:'<strong>I, you, he, she, it, we, they</strong>',ex:'â€¢ <span class="highlight">I</span> am a student.<br>â€¢ <span class="highlight">She</span> is my friend.'},{h:'ğŸ“¦ Object Pronouns',p:'<strong>me, you, him, her, it, us, them</strong>',ex:'â€¢ Call <span class="highlight">me</span> later.<br>â€¢ I saw <span class="highlight">him</span> yesterday.'},{h:'ğŸ  Possessive Pronouns',p:'<strong>mine, yours, his, hers, ours, theirs</strong>',ex:'â€¢ This book is <span class="highlight">mine</span>.<br>â€¢ That car is <span class="highlight">his</span>.'}],exercises:['1. _____ am a teacher. (subject pronoun)','2. Please call _____ tomorrow. (me/I)','3. This book is _____. (my/mine)','4. I saw _____ at the mall. (he/him)','5. _____ are students. (subject pronoun for "we")'],answers:['i','me','mine','him','we'],mcq:[{q:'_____ is my best friend.',opts:['Him','He','His'],ans:'b'},{q:'I gave the book to _____.',opts:['she','her','hers'],ans:'b'},{q:'That car is _____.',opts:['our','ours','we'],ans:'b'},{q:'_____ love this movie!',opts:['Us','We','Our'],ans:'b'},{q:'Can you help _____?',opts:['I','my','me'],ans:'c'}]},
{id:'comparatives',title:'Comparatives',grammar:[{h:'ğŸ“Š Comparative Form',p:'<strong>Short adjectives:</strong> adj + er + than | <strong>Long adjectives:</strong> more + adj + than',ex:'â€¢ My car is <span class="highlight">faster than</span> yours.<br>â€¢ This book is <span class="highlight">more interesting than</span> that one.'},{h:'ğŸ“ Rules',p:'<strong>Short:</strong> add -er | <strong>Long:</strong> use "more" | <strong>Irregular:</strong> good â†’ better',ex:'â€¢ big â†’ <span class="highlight">bigger</span><br>â€¢ expensive â†’ <span class="highlight">more expensive</span><br>â€¢ good â†’ <span class="highlight">better</span>'}],exercises:['1. This test is _____ (easy) than the last one.','2. Dubai is _____ (hot) than London.','3. This movie is _____ (interesting) than that one.','4. My English is _____ (good) than before.','5. This car is _____ (expensive) than mine.'],answers:['easier','hotter','moreinteresting','better','moreexpensive'],mcq:[{q:'She is _____ her sister.',opts:['tall than','taller than','more tall than'],ans:'b'},{q:'This book is _____ that one.',opts:['more interesting than','interestinger than','interesting than'],ans:'a'},{q:'Today\'s weather is _____ yesterday.',opts:['good than','better than','more good than'],ans:'b'},{q:'A bicycle is _____ a car.',opts:['cheap than','cheaper than','more cheap than'],ans:'b'},{q:'English is _____ Arabic for me.',opts:['difficult than','difficulter than','more difficult than'],ans:'c'}]},
{id:'superlatives',title:'Superlatives',grammar:[{h:'ğŸ† Superlative Form',p:'<strong>Short adjectives:</strong> the + adj + est | <strong>Long adjectives:</strong> the most + adj',ex:'â€¢ Burj Khalifa is <span class="highlight">the tallest</span> building.<br>â€¢ This is <span class="highlight">the most beautiful</span> city.'},{h:'ğŸ“ Rules',p:'<strong>Short:</strong> the + adj + est | <strong>Long:</strong> the most + adj | <strong>Irregular:</strong> good â†’ the best',ex:'â€¢ tall â†’ <span class="highlight">the tallest</span><br>â€¢ interesting â†’ <span class="highlight">the most interesting</span><br>â€¢ good â†’ <span class="highlight">the best</span>'}],exercises:['1. Burj Khalifa is _____ (tall) building in the world.','2. This is _____ (good) restaurant in town.','3. She is _____ (intelligent) student in class.','4. That was _____ (bad) movie I\'ve ever seen.','5. This is _____ (expensive) car in the shop.'],answers:['thetallest','thebest','themostintelligent','theworst','themostexpensive'],mcq:[{q:'This is _____ book I\'ve ever read.',opts:['the better','the best','the good'],ans:'b'},{q:'Mount Everest is _____ mountain.',opts:['the highest','the higher','the most high'],ans:'a'},{q:'She is _____ person in the office.',opts:['the most friendly','the friendliest','the friendlier'],ans:'b'},{q:'This is _____ day of my life.',opts:['the happiest','the most happy','the happier'],ans:'a'},{q:'That was _____ exam ever.',opts:['the most difficult','the difficultest','the difficulter'],ans:'a'}]},
{id:'if-clause',title:'If Clause Type 1',grammar:[{h:'ğŸ”® First Conditional Structure',p:'<strong>If + present simple, will + verb</strong>',ex:'â€¢ <span class="highlight">If it rains, I will stay</span> home.<br>â€¢ <span class="highlight">If you study, you will pass</span> the exam.'},{h:'ğŸ“ Use',p:'For <strong>real and possible situations</strong> in the future',ex:'â€¢ If I have time, I will help you.<br>â€¢ If he calls, I will answer.'}],exercises:['1. If it _____ (rain), I will take an umbrella.','2. If you _____ (study), you will pass the test.','3. If she _____ (come), we will start the meeting.','4. I will call you if I _____ (have) time.','5. If they _____ (not/hurry), they will be late.'],answers:['rains','study','comes','have','don\'thurry'],mcq:[{q:'If it _____ tomorrow, we will cancel the trip.',opts:['rains','will rain','rain'],ans:'a'},{q:'She _____ happy if she passes the exam.',opts:['is','will be','be'],ans:'b'},{q:'If you _____ hard, you will succeed.',opts:['work','will work','works'],ans:'a'},{q:'I will buy a car if I _____ enough money.',opts:['have','will have','has'],ans:'a'},{q:'If they _____ late, they will miss the bus.',opts:['are','will be','be'],ans:'a'}]}
];
let points=0,level=1,completedLessons=0;
function initBadges(){const c=document.getElementById('badges-container');badgeEmojis.forEach((b,i)=>c.innerHTML+=`<div class="badge" id="badge-${i+1}" title="${badgeNames[i]}">${b}<span class="badge-tooltip">${badgeNames[i]}</span></div>`)}
function createLessons(){const c=document.getElementById('lessons-container');lessons.forEach((l,idx)=>{let html=`<div id="${l.id}" class="lesson${idx===0?' active':''}"><h2 class="lesson-title">Lesson ${idx+1}: ${l.title}</h2>`;l.grammar.forEach(g=>html+=`<div class="grammar-box"><h3>${g.h}</h3><p>${g.p}</p><div class="example-box"><strong>Examples:</strong><br>${g.ex}</div></div>`);html+=`<div class="exercise-section"><div class="exercise-title">ğŸ“ Practice Exercise</div>`;l.exercises.forEach((ex,i)=>html+=`<div class="question"><div class="question-text">${ex}</div><input type="text" id="q${idx+1}-${i+1}"></div>`);html+=`<button class="btn btn-check" onclick="checkAnswers(${idx+1})">Check Answers</button><button class="btn" onclick="resetExercise(${idx+1})">Reset</button><div class="feedback" id="feedback-${idx+1}"></div></div>`;html+=`<div class="mcq-review"><h3>ğŸ¯ Unit Review Quiz</h3><p style="text-align:center;margin-bottom:20px">Score 60%+ to unlock next!</p>`;l.mcq.forEach((m,i)=>html+=`<div class="mcq-question"><div class="question-text"><strong>${i+1}.</strong> ${m.q}</div>${m.opts.map((o,j)=>`<label class="radio-option"><input type="radio" name="mcq${idx+1}-${i+1}" value="${String.fromCharCode(97+j)}"> ${o}</label>`).join('')}</div>`);html+=`<button class="btn" onclick="checkQuiz(${idx+1})">Submit Quiz</button><div class="feedback" id="quiz-feedback-${idx+1}"></div></div></div>`;c.innerHTML+=html})}
function checkAnswers(n){let correct=0;const l=lessons[n-1];for(let i=1;i<=5;i++){const input=document.getElementById(`q${n}-${i}`);const ans=input.value.trim().toLowerCase().replace(/['\s]/g,'');if(ans===l.answers[i-1].replace(/['\s]/g,'')){input.classList.add('correct');input.classList.remove('incorrect');correct++}else{input.classList.add('incorrect');input.classList.remove('correct')}}const fb=document.getElementById(`feedback-${n}`);fb.classList.add('show');const pts=correct*10;if(correct===5){fb.className='feedback show correct';fb.innerHTML=`ğŸ‰ Perfect! <span class="points-earned">+${pts} points</span>`}else if(correct>=3){fb.className='feedback show correct';fb.innerHTML=`âœ… Good! ${correct}/5 correct. <span class="points-earned">+${pts} points</span>`}else{fb.className='feedback show incorrect';fb.innerHTML=`ğŸ“š ${correct}/5 correct. Try again!`}if(correct>=3){points+=pts;updatePoints()}}
function checkQuiz(n){let correct=0;const l=lessons[n-1];for(let i=1;i<=5;i++){const sel=document.querySelector(`input[name="mcq${n}-${i}"]:checked`);const opts=document.querySelectorAll(`input[name="mcq${n}-${i}"]`);opts.forEach(o=>o.parentElement.classList.remove('correct','incorrect'));if(sel){if(sel.value===l.mcq[i-1].ans){sel.parentElement.classList.add('correct');correct++}else{sel.parentElement.classList.add('incorrect');opts.forEach(o=>{if(o.value===l.mcq[i-1].ans)o.parentElement.classList.add('correct')})}}}const fb=document.getElementById(`quiz-feedback-${n}`);fb.classList.add('show');const perc=(correct/5)*100;const pts=correct*20;if(perc>=60){fb.className='feedback show correct';fb.innerHTML=`ğŸ‰ You scored ${perc}%! <span class="points-earned">+${pts} points</span><br>Next lesson unlocked!`;points+=pts;updatePoints();unlockBadge(n);completedLessons++;if(completedLessons===10){setTimeout(showCertificate,1500)}else{unlockNextLesson(n)}}else{fb.className='feedback show incorrect';fb.innerHTML=`ğŸ“š You scored ${perc}%. Need 60%+.`}}
function resetExercise(n){for(let i=1;i<=5;i++){const input=document.getElementById(`q${n}-${i}`);input.value='';input.classList.remove('correct','incorrect')}document.getElementById(`feedback-${n}`).classList.remove('show')}
function updatePoints(){document.getElementById('total-points').textContent=points;if(points>=200&&level===1){level=2;document.getElementById('current-level').textContent=level}if(points>=500&&level===2){level=3;document.getElementById('current-level').textContent=level}if(points>=1000&&level===3){level=4;document.getElementById('current-level').textContent=level}}
function unlockBadge(num){document.getElementById('badge-'+num).classList.add('unlocked')}
function unlockNextLesson(n){if(n<lessons.length){const nextTab=document.getElementById('tab-'+lessons[n].id);nextTab.classList.remove('locked');nextTab.textContent=nextTab.textContent.replace(' ğŸ”’','')}}
function showLesson(id){const tab=document.getElementById('tab-'+id);if(tab.classList.contains('locked')){alert('ğŸ”’ Complete previous lesson first!');return}document.querySelectorAll('.lesson').forEach(l=>l.classList.remove('active'));document.querySelectorAll('.nav-tab').forEach(t=>t.classList.remove('active'));document.getElementById(id).classList.add('active');tab.classList.add('active');window.scrollTo(0,0)}
function showCertificate(){const modal=document.getElementById('certificate-modal');const name=prompt('Enter your name for the certificate:','Student Name');if(name){document.getElementById('cert-name').textContent=name;document.getElementById('cert-score').textContent=`Final Score: ${points} points`;const date=new Date().toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'});document.getElementById('cert-date').textContent=`Completed on ${date}`;modal.classList.add('show')}}
function closeCertificate(){document.getElementById('certificate-modal').classList.remove('show')}
function downloadCertificate(){const cert=document.getElementById('certificate');const btn=document.querySelector('.cert-buttons');btn.style.display='none';html2canvas(cert,{scale:2,backgroundColor:'#ffffff'}).then(canvas=>{const link=document.createElement('a');link.download='Grammar_Certificate.png';link.href=canvas.toDataURL('image/png');link.click();btn.style.display='block'})}
initBadges();createLessons();console.log('âœ… All 10 lessons with badges loaded!');
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>
